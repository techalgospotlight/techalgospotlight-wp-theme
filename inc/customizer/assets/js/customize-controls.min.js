!(function (e, t) {
  (e.sectionConstructor["techalgospotlight-info"] = e.Section.extend({
    attachEvents: function () {},
    isContextuallyActive: function () {
      return !0;
    },
  })),
    (e.techalgospotlightCustomizerPreviewer = {
      init: function () {
        var t;
        this.preview.bind("set-footer-widget", function (o) {
          (t = e.control("sidebars_widgets[" + o + "]")).focus(),
            e.Widgets.availableWidgetsPanel.open(t);
        }),
          this.preview.bind("set-navigation-widget", function (o) {
            (t = e.control("nav_menu_locations[" + o + "]")).focus();
          });
      },
    });
  var o = e.Previewer;
  (e.Previewer = o.extend({
    initialize: function (t, i) {
      (e.techalgospotlightCustomizerPreviewer.preview = this),
        o.prototype.initialize.call(this, t, i);
    },
  })),
    e("techalgospotlight_info_style", function (o) {
      o.bind(function (o) {
        if (12 == o) {
          var i = {
            desktop: { top: 0, bottom: 0 },
            tablet: { top: 0, bottom: 0 },
            mobile: { top: 6, bottom: 6 },
            unit: "rem",
          };
          e.control("techalgospotlight_info_section_spacing").setting(i);
        } else {
          i = {
            desktop: { top: 10, bottom: 10 },
            tablet: { top: 6, bottom: 6 },
            mobile: { top: 6, bottom: 6 },
            unit: "rem",
          };
          e.control("techalgospotlight_info_section_spacing").setting(i);
        }
        !(function (e, o) {
          for (const [s, n] of Object.entries(o))
            if (["desktop", "tablet", "mobile"].includes(s))
              for (const [o, r] of Object.entries(n)) {
                var i = t(
                  e + ' input[name="spacing-control-' + s + "-" + o + '"]'
                );
                i.length && i.val(r);
              }
        })(e.control("techalgospotlight_info_section_spacing").selector, i);
      });
    }),
    _.each(
      techalgospotlight_customizer_localized.preview_url_for_section,
      function (e, t) {
        e &&
          wp.customize.section(t, function (t) {
            t.expanded.bind(function (t) {
              t && wp.customize.previewer.previewUrl.set(e);
            });
          });
      }
    ),
    t(document).ready(function (t) {
      e.techalgospotlightCustomizerPreviewer.init(),
        t(".techalgospotlight-control-responsive").each(function () {
          t(this).find(".control-responsive").first().addClass("active");
        }),
        t(".customize-control").on(
          "click",
          ".techalgospotlight-responsive-switchers span",
          function (e) {
            var o = t(this),
              i = o.closest(".techalgospotlight-responsive-switchers"),
              s = i.find("li span"),
              n = t(e.currentTarget).data("device"),
              r = t(".techalgospotlight-control-responsive"),
              c = t(".wp-full-overlay"),
              a = t(".wp-full-overlay-footer .devices");
            i.hasClass("expanded")
              ? o.parent().is(":first-child") && o.hasClass("active")
                ? (i.removeClass("expanded"), o.removeClass("active"))
                : (s.removeClass("active"), o.addClass("active"))
              : (i.addClass("expanded"), o.addClass("active")),
              r.find(".control-responsive").removeClass("active"),
              r.find(".control-responsive." + n).addClass("active"),
              r
                .removeClass(
                  "control-device-desktop control-device-tablet control-device-mobile"
                )
                .addClass("control-device-" + n),
              c
                .removeClass("preview-desktop preview-tablet preview-mobile")
                .addClass("preview-" + n),
              a.find("button").removeClass("active").attr("aria-pressed", !1),
              a
                .find("button.preview-" + n)
                .addClass("active")
                .attr("aria-pressed", !0);
          }
        ),
        t(".wp-full-overlay-footer .devices button").on("click", function (e) {
          t(this);
          var o = t(
              ".customize-control .techalgospotlight-responsive-switchers"
            ),
            i = t(e.currentTarget).data("device"),
            s = t(".techalgospotlight-control-responsive");
          o.find("span").removeClass("active"),
            o.find("span.preview-" + i).addClass("active"),
            "desktop" === i
              ? o.removeClass("expanded")
              : o.addClass("expanded"),
            s.find(".control-responsive").removeClass("active"),
            s.find(".control-responsive." + i).addClass("active"),
            s
              .removeClass(
                "control-device-desktop control-device-tablet control-device-mobile"
              )
              .addClass("control-device-" + i);
        }),
        setTimeout(() => {
          var e, o, i;
          t(".techalgospotlight-tooltip").length &&
            t(".techalgospotlight-tooltip").each(function () {
              (e = t(this)).hasClass("top-right-tooltip") ||
                e.hasClass("small-tooltip") ||
                ((i = e
                  .closest(".techalgospotlight-control-wrapper")
                  .outerWidth()),
                (o = e
                  .closest(".techalgospotlight-info-icon")
                  .css("position", "static")
                  .position().left) <
                i - o
                  ? (e[0].style.setProperty(
                      "--tooltip-left",
                      Math.min(104, o) + "px"
                    ),
                    e.css("left", Math.max(0, o - 104)))
                  : (e.css("left", Math.min(o - 90, i - 208)),
                    o < i - 104
                      ? e[0].style.setProperty("--tooltip-left", "90px")
                      : e[0].style.setProperty(
                          "--tooltip-left",
                          o - 178 + "px"
                        )));
            });
        }, 2e3),
        e.hasOwnProperty("previewer") &&
          (e.previewer.bind(
            "techalgospotlight-customize-disable-section",
            function (o) {
              t("input[id=" + o + "]")
                .trigger("click")
                .trigger("change");
              const i = !e.control(o).setting.get();
              e.control(o).setting.set(i);
            }
          ),
          e.previewer.bind(
            "techalgospotlight-customize-focus-control",
            function (t) {
              e.control(t).focus();
            }
          )),
        t("body").on(
          "click",
          "#sub-accordion-panel-techalgospotlight_panel_homepage > .accordion-section.control-subsection",
          function (e) {
            var o, i;
            (o = t(this).attr("id").substr(18)),
              0 <
                (i = jQuery("#customize-preview iframe").contents()).find(
                  "." + o
                ).length &&
                i
                  .find("html, body")
                  .animate({ scrollTop: i.find("." + o).offset().top }, 1e3);
          }
        );
    });
})(wp.customize, jQuery);
