!(function (i) {
  "use strict";
  var n = {
    listenTo: {},
    init: function () {
      var i = this;
      wp.customize.control.each(function (n) {
        i.showtechalgospotlightControl(n);
      }),
        _.each(i.listenTo, function (n, t) {
          _.each(n, function (n) {
            wp.customize(t, function (t) {
              wp.customize.control(n, function (r) {
                var e, o;
                (o = function () {
                  return i.showtechalgospotlightControl(
                    wp.customize.control(n)
                  );
                }),
                  (e = function () {
                    r.active.set(o());
                  })(),
                  t.bind(e),
                  (r.active.validate = o);
              });
            });
          });
        });
    },
    showtechalgospotlightControl: function (i) {
      var n,
        t = !0;
      if (
        (_.isString(i) && (i = wp.customize.control(i)),
        void 0 === i || (i.params && _.isEmpty(i.params.required)))
      )
        return !0;
      for (n = 0; n < i.params.required.length; n++)
        this.checkCondition(i.params.required[n], i, "AND") || (t = !1);
      return t;
    },
    checkCondition: function (i, n, t) {
      var r,
        e,
        o = "AND" === t ? "OR" : "AND";
      if (void 0 !== i[0] && void 0 === i.control) {
        for (r = [], e = 0; e < i.length; e++)
          r.push(this.checkCondition(i[e], n, o));
        return "OR" === o ? -1 !== r.indexOf(!0) : -1 === r.indexOf(!1);
      }
      return (
        void 0 === wp.customize.control(i.control) ||
        ((this.listenTo[i.control] = this.listenTo[i.control] || []),
        -1 === this.listenTo[i.control].indexOf(n.id) &&
          this.listenTo[i.control].push(n.id),
        this.evaluate(
          i.value,
          wp.customize.control(i.control).setting._value,
          i.operator
        ))
      );
    },
    evaluate: function (i, n, t) {
      var r = !1;
      if ("===" === t) return i === n;
      if ("==" === t || "=" === t || "equals" === t || "equal" === t)
        return i == n;
      if ("!==" === t) return i !== n;
      if ("!=" === t || "not equal" === t) return i != n;
      if (">=" === t || "greater or equal" === t || "equal or greater" === t)
        return n >= i;
      if ("<=" === t || "smaller or equal" === t || "equal or smaller" === t)
        return n <= i;
      if (">" === t || "greater" === t) return n > i;
      if ("<" === t || "smaller" === t) return n < i;
      if ("contains" === t || "in" === t) {
        if (_.isArray(i) && _.isArray(n))
          return (
            _.each(n, function (n) {
              if (i.includes(n)) return (r = !0), !1;
            }),
            r
          );
        if (_.isArray(n))
          return (
            _.each(n, function (n) {
              n == i && (r = !0);
            }),
            r
          );
        if (_.isObject(n))
          return (
            _.isUndefined(n[i]) || (r = !0),
            _.each(n, function (n) {
              i === n && (r = !0);
            }),
            r
          );
        if (_.isString(n))
          return _.isString(i)
            ? -1 < i.indexOf(n) && -1 < n.indexOf(i)
            : -1 < i.indexOf(n);
      }
      return i == n;
    },
  };
  i(document).ready(function () {
    n.init();
  });
})(jQuery);
